<ion-header class="ion-no-border">
	<ion-toolbar color="ligth">
		<ion-title color="dark" class="ion-text-center">Visualizaci√≥n</ion-title>
		<ion-buttons slot="end" (click)="cerrarModal()">
			<ion-icon color="dark" slot='icon-only' size='large' name='close-outline'>
			</ion-icon>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content>
	<!-- Para URLs HTTP normales -->
	<div *ngIf="!isBase64 && safeUrl" style="width: 100%; height: 100%;">
		<iframe [src]="safeUrl" frameborder="0" style="width: 100%; height: 100vh;"></iframe>
	</div>
	
	<!-- Para base64 -->
	<div *ngIf="isBase64 && safeUrl" style="width: 100%; height: 100%;">
		<pdf-viewer [src]="safeUrl" [rotation]="0" [show-all]="true" [fit-to-page]="false"
			[zoom]="valorZoom" [zoom-scale]="'page-width'" [stick-to-page]="false" [external-link-target]="'blank'"
			[autoresize]="true" [show-borders]="true" [render-text]="true" [original-size]="false"
			style="width: 99vw; height: 100%;">
		</pdf-viewer>
	</div>
	
	<!-- Mensaje de carga o error -->
	<div *ngIf="!safeUrl" style="display: flex; align-items: center; justify-content: center; height: 100%;">
		<ion-spinner></ion-spinner>
		<ion-label style="margin-left: 10px;">Cargando PDF...</ion-label>
	</div>
</ion-content>

<ion-footer class="ion-no-border" *ngIf="isBase64">
	<ion-toolbar>
		<ion-fab vertical="center" horizontal="start">
			<ion-grid class="ion-no-padding">
				<ion-row>
					<ion-col size="6">
						<ion-fab-button color="medium" [disabled]="valorZoom == 1"
							(click)="valorZoom = (valorZoom - 1 < 1 ? 1 : valorZoom - 1)" class="ion-no-margin"
							mode="ios" size="small">
							<fa-icon icon="magnifying-glass-minus"></fa-icon>
						</ion-fab-button>
					</ion-col>
					<ion-col size="6">
						<ion-fab-button color="medium" class="ion-no-margin" mode="ios" size="small"
							(click)="valorZoom = valorZoom + 1">
							<fa-icon icon="magnifying-glass-plus"></fa-icon>
						</ion-fab-button>
					</ion-col>
				</ion-row>
			</ion-grid>
		</ion-fab>
	</ion-toolbar>
</ion-footer>